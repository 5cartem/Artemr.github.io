<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Falling Squares Game</title>

<style>
  body {
    margin: 0;
    background: #111;
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
  }

  h1 {
    margin: 10px 0;
  }

  #gameArea {
    position: relative;
    width: 400px;
    height: 600px;
    margin: auto;
    background: #222;
    border: 2px solid #555;
    overflow: hidden;
  }

  .square {
    position: absolute;
    width: 40px;
    height: 40px;
    background: #00ffcc;
    cursor: pointer;
    user-select: none;
  }

  #controls {
    margin: 10px;
  }
</style>
</head>

<body>

<h1>Falling Squares</h1>

<div id="controls">
  Speed:
  <input type="range" id="speedSlider" min="1" max="10" value="4">
  <span id="speedValue">4</span>
</div>

<div id="gameArea"></div>

<p>
  Score: <span id="score">0</span> |
  Misses: <span id="misses">0</span> / 5
</p>

<script>
  const gameArea = document.getElementById("gameArea");
  const scoreEl = document.getElementById("score");
  const missesEl = document.getElementById("misses");
  const speedSlider = document.getElementById("speedSlider");
  const speedValue = document.getElementById("speedValue");

  let score = 0;
  let misses = 0;
  let gameOver = false;
  let speedMultiplier = 4;

  speedSlider.oninput = () => {
    speedMultiplier = Number(speedSlider.value);
    speedValue.textContent = speedMultiplier;
  };

  function createSquare() {
    if (gameOver) return;

    const square = document.createElement("div");
    square.className = "square";

    const x = Math.random() * (gameArea.clientWidth - 40);
    square.style.left = x + "px";
    square.style.top = "-40px";

    gameArea.appendChild(square);

    let y = -40;

    function fall() {
      if (gameOver) return;

      y += speedMultiplier;
      square.style.top = y + "px";

      if (y > gameArea.clientHeight) {
        square.remove();
        misses++;
        missesEl.textContent = misses;

        if (misses >= 5) {
          endGame();
        }
        return;
      }

      requestAnimationFrame(fall);
    }

    square.addEventListener("click", () => {
      score++;
      scoreEl.textContent = score;
      square.remove();
    });

    requestAnimationFrame(fall);
  }

  function endGame() {
    gameOver = true;
    alert("Game Over!\nFinal Score: " + score);
  }

  setInterval(createSquare, 900);
</script>

</body>
</html>

